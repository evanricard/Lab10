using System;
using System.Collections;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Lab10
{
    class _Program
    {
        static void Main(string[] args)
        {
            Console.WriteLine(@"
                 _       __     __                             __           __ __          _      _          __ __              __         __ 
                | |     / ___  / _________  ____ ___  ___     / /_____     / //____ _   __(_____ ( )_____   / //_____ ______   / /  ____  / /_
                | | /| / / _ \/ / ___/ __ \/ __ `__ \/ _ \   / __/ __ \   / ,< / _ | | / / / __ \|// ___/  / ,< / __ `/ ___/  / /  / __ \/ __/
                | |/ |/ /  __/ / /__/ /_/ / / / / / /  __/  / /_/ /_/ /  / /| /  __| |/ / / / / / (__  )  / /| / /_/ / /     / /__/ /_/ / /_  
                |__/|__/\___/_/\___/\____/_/ /_/ /_/\___/   \__/\____/  /_/ |_\___/|___/_/_/ /_/ /____/  /_/ |_\__,_/_/     /_____\____/\__/  
                -----------------------------------------------------------------------------------------------------------------------------
");

            Console.Write(@"
                                                                     ...,,*/((#%%%&&&&&&&@@@@@&&&&%%%#((////,,,..                                              
                                                              ,(#%%%%%%%%%%%%&%&&&&&&&&&&&%%##/********//////////////**,                                       
                                                        .****//((###%%%%%%%%%%%%%%%%%%%%%%#//*/(###%%%%%&%###%%%%%%%%%##((//*.                                 
                                                     */,,*//((#######%%%%%%%%%%%%%%%%%%%%#//(#%%&&%%%%%%&%%##%%%%%%%%%%%%%%((/**,.                             
                                                 ./*,**//(((######%%%%%%%%%%%%%%%%%%%%%#/(#%&&&&&&&&&%%%%&%###%%%%%%%%%%%%&%%((#(**//                          
                                               /*,,**//(((#####%%%%%%%%%%%%%%%%%%%%%%#((##&&&&&&&%&&&&&&&%%%%%%%%%%%%&%%%%%%%%(%%##***/*.                      
                                            ./,,**///(((####%%%%%%%%%%%%%%%%%%%%%%%(##&&&&&&&&&&&&&&&%%%%%%%%%%%%%%######((#%%%#*/****//*.                   
                                       ./#/,,,*///(((#####%%%%%%%%%%%%%%%%%%%%%%&((((%&%%###%%%%%########%&&((((////************,*****///((                
                                      .((,***//(((###%%%%%%%%%%%%%%%%%%%%%%%%%%((#((#&%#(((//**((((((////(%#(***/*///**********,,,**//////((#(.              
                                    ,%#/(##%%%%%%%&&&&&&%%%%%&%%%%%%%%%%%%%%&%%(/(###%%@@&&&&@@&%(/*****//////////******//(#%&&&&@&&#((((#%%%#%.             
                             ,*(#(((((((((#((((##################((((####%##(/*/#%%&@&****************//(#%%&&@@&&&&&&&&%%%%%*/#((&&&%%%%##((#%/             
                       .*(##(((((((########((((###########((((((####%#(/**///******(&@@@#*,,,**(#%%&&@@@&&@&%#(#####%&&&&&&&&&&&&&&&&&&&&%%#####%*             
                  *(((((((((((((((((((((############((((#####%%##((/(**********,**/(%&@@@@&&&&&%%%%%%&&&&&&&&&&&&&&@@@@@@@@@@&&@&&&&&&&&&&%###(##&/            
               ,##((((((((((((((((((############((######%%##(/*.   .**********/#%%%%&%&&&&&&&&&&&&&&&@@@@@@@@@@@&@@@@@@@@@@@@&&&&&&&&&&&&&&%#####&&,           
              ,(#(///((((((#################((########(/*.   ,.,,,(/*****,,,*/#%&&&%%&&@@@@@@@@@@@@@@@@@@@@@@@@@&@@@@@@@@@@@@@&&&&&&&&&&@@&&&%###&&/           
             .*#//(((((######%%%#######(((##(##/*,*/((*#/,.. ..(####%%%%&&&&&&&&&&&&@@@@@@@@@@@@@@@@@@@@@@@@@@@&&@@@@@@@@@@&&&&&&&&@@&&&@@@@&&%%%&&&.          
             .**##(((((############((/((%&%((//((#//#(*%(**.*(%%%%%%&&&&&&@@@&&&&&&@@@@@@@@@@@@@@@@@@@@@@@@@@@&&&&&&&&&&&&&&&&&&&&@%(%%%%%@@@&&&%&&@(          
            #%*#(###%%%(#&&&&&&&&&&&%#((#*/(/////**,,,,,(%%%%%&&&&&&&@@@@@@@@@&&&&&&&@@@@@@@@&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&@&&%%(,,(%%@@@&&&&&@/          
           *######%%%/(##%@&&&&@@&@&&&%#((/*///((##%%#%##%&&&&&&&&@@%(//(((%@@@@&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&@@@@@@@&&&&%%#&(**%##%@@&&&&@&.          
          ,&&%,%%%&%&&&&&@&@&&@&&&&&&&&&&&&&&&&&&&&%#/**/(&&&&&&&&&@&(#%&&&&&%%@@@@&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&@@@&&@&&%/#&*/@#*%&@&&@@@(           
           (&&%*%%(.*//***,,.,.(&%%&&&%&&&&&&&((///***%&@&&&&&&&@%%%###**#(/&%&@@&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&@@@&&&@&&((////(((#&@%@@#,            
           (%%%...........,(#%%&&&&&&&%%%%%%%%%##&&&@@&&&&&@%%%#@@%/*&(&%@@@&&&&&&&&&&&&&&&&&&&&&&&&&&@@@@@@@@@@&&&&@@@@&@@(//%&/#&@(                
           ./&&%%&&&&%%%%#####%%%%%%&&&&&&&%//&&&%##(##,&&&@&&&&&&%%%(&@&(/&&(*#&&@@&@&&&&%%%%&&&&&@@@@@@@&&&&&&&&@@@@@@@@@@@@@&&&@//#/(/&/                  
           .#%%&&&&&%%%%%%#########%&@&&&&%((#&&&%%,%%,&&&&&&&@&&%/,,*/#((*//(&%@@&@@@@&@&&&&&&&&&@@@@@@@@@@@@&&%#(/*,..  *@@&&&//&&(*%%                   
          .&&@@@@@@@@@@@@@@&&@@@@@@&@@&%%%%%#(//(((((%##*/&@@&&&@&&%##%#/*,(&@%(&&@@@@@@@@@@@@@@@@@@@@@@@@@@&&&&&%%%##((//***#@@&&&#&%(%%.                   
           ,//(#%%&&&&&&&&&@@@@@@@@@@@@@@&&&&&&&&&&&&&&&&&&@@@@@@&&%#&@&((//#%(#&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&@@@&&&&&&&&&(/*,.                
                    (&@&@@@@@@@@@@@@&&@@@@@@@@@@@@@@@@@@@@@@@@@@@&&&%(*#&(*(/&&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&&&&&&%%%%%%%%%&&&&&&%#(*,                     
                     /&&&@@@@@@@@@@(,*/((#%%&&@@@@@@@@@@@@@@@@@@@&&&&(*,/&&%(,#&@@@@@@@@@@@@@&&&&&&%%%%####((((////***,,...                                    
                   .,*(#%&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&&%#((//#&&@@@&&&%%###(((///***,,,...                                                      
             .,**//(#%%&&&&&&&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&&@@@&%#((//**,,...                                                                   
             .,***///((###%%%%%%%&&&&&&&&&&&&&&&&&&&&&&&&&&@@@@@@@@@@@@@@&%#/,.                                                                                
                           .....,,,,,*******************,,...                                                                                                  
                                                                                                                                                               
                                  ");


            Console.WriteLine();
            Console.WriteLine("\tWhat are ya buyin'?\n");

            //Make, Model, Year, Price, Mileage
            ArrayList cars = new ArrayList();
            cars.Add(null); // Null instance to get the list to start at 1.
            cars.Add(new Car(cars.Count, "Ford", "Taurus", 2002, 2_300));
            cars.Add(new Car(cars.Count, "Toyota", "Rav4", 2003, 4_500));
            cars.Add(new UsedCar(cars.Count, "Honda", "Civic", 2006, 3_100, 97_000));
            cars.Add(new Car(cars.Count, "Chevy", "Equinox", 2010, 7_000));
            cars.Add(new UsedCar(cars.Count, "Jeep ", "Wrangler", 2008, 5_300, 120_000));
            cars.Add(new Car(cars.Count, "Mitsubish", "Outlander", 2015, 11_000));
            cars.Add(new UsedCar(cars.Count, "Nissan", "Titan", 2012, 9_300, 82_000));

            int drunk = 0;
            //int carlot = cars.Count;

            while (true)
            {

                if (cars.Count == 1)
                {
                    Console.WriteLine("Looks like we're going to have to get more cars! $$$");
                    break;
                }

                //Display loop
                foreach (Car automobile in cars)
                {
                    if (automobile is UsedCar)
                    {
                        Console.WriteLine(automobile);

                    }

                    else if (automobile is null)
                    {
                        //Write nothing
                    }

                    else
                    {
                        Console.WriteLine(automobile);
                    }
                }

                string input = Console.ReadLine();
                int index;
                bool parsedInput = int.TryParse(input, out index);

                if (!parsedInput)
                {
                    Console.WriteLine("\nNot sure we have what you're lookin' for.\n");
                    continue;
                }

                else if (index < 1 || index >= cars.Count)
                {
                    Console.WriteLine("\nOh man, you just missed out on that one!\n");
                    continue;
                }

                else
                {
                    Console.WriteLine("\nLet's get you set up with a car!\n");
                    for (int i = 1; i < cars.Count; i++)
                    {
                        if (index == i)
                        {

                            //Trying to remove the numeric index in front of the cars
                            //string noNum = $"{cars[i]}";
                            //noNum.Remove(0, 3);
                            //Console.WriteLine(noNum);

                            Console.WriteLine($"Now the proud owner of,\t{cars[i]}!");

                            //Remove in index
                            cars.RemoveAt(i);
                            continue;
                        }

                    }

                    Console.WriteLine("Wanna keep shopping? y/n");
                    string esc = Console.ReadLine();
                    esc.ToLower();

                    if (esc == "y")
                    {
                        Console.WriteLine();

                        //Remove every character in the esc input to reset the value
                        esc.Remove(0);
                        continue;
                    }

                    else if (esc == "n")
                    {
                        //Final word before customer leaves the lot
                        Console.WriteLine("Hate to see ya go!");
                        break;
                    }

                    else
                    {
                        Console.WriteLine("You haven't been drunk driving have ya buddy?");
                        drunk++;

                        if (drunk == 5)
                        {
                            Console.WriteLine("\nMight have to call the police.\n");
                        }

                        continue;
                    }

                }

            }

            Console.ReadLine();
        }
    }
}
